# ğŸ›ï¸ STTChecker ì•„í‚¤í…ì²˜ ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” STTChecker ì•±ì˜ ì „ì²´ ì•„í‚¤í…ì²˜, ì„¤ê³„ ê²°ì •, í•µì‹¬ ë¡œì§ì„ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-10
**ë²„ì „**: 1.3.0

---

## ğŸ“‹ ëª©ì°¨

1. [ì „ì²´ êµ¬ì¡°](#ì „ì²´-êµ¬ì¡°)
2. [Feature-based ì•„í‚¤í…ì²˜](#feature-based-ì•„í‚¤í…ì²˜)
3. [í•µì‹¬ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸](#í•µì‹¬-ì²˜ë¦¬-íŒŒì´í”„ë¼ì¸)
4. [í•˜ì´ë¸Œë¦¬ë“œ ìŒì„± ì¸ì‹](#í•˜ì´ë¸Œë¦¬ë“œ-ìŒì„±-ì¸ì‹)
5. [ONNX ëª¨ë¸ ê´€ë¦¬](#onnx-ëª¨ë¸-ê´€ë¦¬)
6. [ì˜¤ë””ì˜¤ ì „ì²˜ë¦¬](#ì˜¤ë””ì˜¤-ì „ì²˜ë¦¬)
7. [í‰ê°€ ì§€í‘œ ê³„ì‚°](#í‰ê°€-ì§€í‘œ-ê³„ì‚°)
8. [ë°ì´í„° ì €ì¥ì†Œ](#ë°ì´í„°-ì €ì¥ì†Œ)
9. [ì˜ì¡´ì„± ê·¸ë˜í”„](#ì˜ì¡´ì„±-ê·¸ë˜í”„)
10. [ì„¤ê³„ ê²°ì •ì‚¬í•­](#ì„¤ê³„-ê²°ì •ì‚¬í•­)

---

## ğŸ“ ì „ì²´ êµ¬ì¡°

```
STTChecker/
â”‚
â”œâ”€â”€ ğŸ“± app/                                  # Expo Router (íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…)
â”‚   â”œâ”€â”€ _layout.tsx                          # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (ëª¨ë¸ ë¡œë”©, í…Œë§ˆ)
â”‚   â”œâ”€â”€ +html.tsx                            # ì›¹ìš© HTML ë˜í¼
â”‚   â”œâ”€â”€ +not-found.tsx                       # 404 í˜ì´ì§€
â”‚   â”œâ”€â”€ modal.tsx                            # ì¼ë°˜ ëª¨ë‹¬ í™”ë©´
â”‚   â”œâ”€â”€ record.tsx                           # ë…¹ìŒ í™”ë©´ (í•˜ì´ë¸Œë¦¬ë“œ STT)
â”‚   â”œâ”€â”€ results.tsx                          # ê²°ê³¼ í™”ë©´ (ONNX ë¶„ì„, CER/WER)
â”‚   â”‚
â”‚   â””â”€â”€ (tabs)/                              # íƒ­ ë‚´ë¹„ê²Œì´ì…˜ ê·¸ë£¹
â”‚       â”œâ”€â”€ _layout.tsx                      # íƒ­ ë‚´ë¹„ê²Œì´í„° ì„¤ì •
â”‚       â”œâ”€â”€ index.tsx                        # í™ˆ íƒ­ (ë¬¸ì¥ ì…ë ¥)
â”‚       â”œâ”€â”€ sing.tsx                         # ê°€ë¼ì˜¤ì¼€ ë°ëª¨ íƒ­
â”‚       â”œâ”€â”€ test.tsx                         # íŒŒì¼ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸ íƒ­
â”‚       â””â”€â”€ history.tsx                      # íˆìŠ¤í† ë¦¬ íƒ­
â”‚
â”œâ”€â”€ ğŸ§© features/                             # ê¸°ëŠ¥ ê¸°ë°˜ ëª¨ë“ˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ¤ audio/                            # ì˜¤ë””ì˜¤ ë…¹ìŒ ë° ì¬ìƒ
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useAudioRecording.ts         # WAV ë…¹ìŒ í›…
â”‚   â”‚   â”‚   â””â”€â”€ useAudioPlayback.ts          # ì¬ìƒ í›…
â”‚   â”‚   â”œâ”€â”€ utils/config.ts                  # ë…¹ìŒ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ—£ï¸ speechRecognition/               # í•˜ì´ë¸Œë¦¬ë“œ ìŒì„± ì¸ì‹
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ useHybridSpeechRecognition.ts  # í•µì‹¬ í•˜ì´ë¸Œë¦¬ë“œ í›…
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ koreanModelManager.ts        # í•œêµ­ì–´ ëª¨ë¸ ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ platformCapabilities.ts      # í”Œë«í¼ ê¸°ëŠ¥ ê°ì§€
â”‚   â”‚   â”œâ”€â”€ speechRecognitionContext.tsx     # React Context
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ§  stt/                              # ìŒì„±-í…ìŠ¤íŠ¸ ë³€í™˜ íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ audioPreprocessor.ts         # WAV íŒŒì‹±, ë¦¬ìƒ˜í”Œë§, ì •ê·œí™”
â”‚   â”‚   â”‚   â”œâ”€â”€ inference.ts                 # ONNX ì¶”ë¡  ë° CTC ë””ì½”ë”©
â”‚   â”‚   â”‚   â””â”€â”€ metrics.ts                   # CER/WER ê³„ì‚°
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ¤– onnx/                             # ONNX ëª¨ë¸ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ modelLoader.ts               # ëª¨ë¸ ë¡œë”© (assets â†’ cache)
â”‚   â”‚   â”‚   â””â”€â”€ vocabLoader.ts               # ì–´íœ˜ ë¡œë”©
â”‚   â”‚   â”œâ”€â”€ onnxContext.tsx                  # React Context Provider
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ’¾ history/                          # ë…¹ìŒ íˆìŠ¤í† ë¦¬
â”‚   â”‚   â”œâ”€â”€ utils/historyManager.ts          # CRUD, íŒŒì¼ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ ğŸµ karaoke/                          # ê°€ë¼ì˜¤ì¼€ ì• ë‹ˆë©”ì´ì…˜
â”‚       â”œâ”€â”€ utils/timingPresets.ts           # ìŒì ˆ íƒ€ì´ë° í”„ë¦¬ì…‹
â”‚       â”œâ”€â”€ types.ts
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ ğŸ¨ components/                           # ì „ì—­ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ CustomHeader.tsx                     # ì»¤ìŠ¤í…€ í—¤ë”
â”‚   â”œâ”€â”€ KaraokeText.tsx                      # ê°€ë¼ì˜¤ì¼€ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜
â”‚   â”œâ”€â”€ ModelLoadingScreen.tsx               # ëª¨ë¸ ë¡œë”© í™”ë©´
â”‚   â”œâ”€â”€ WaveSurferWebView.tsx                # ì˜¤ë””ì˜¤ ì‹œê°í™” WebView
â”‚   â””â”€â”€ AndroidUpgradeModal.tsx              # Android ì—…ê·¸ë ˆì´ë“œ ëª¨ë‹¬
â”‚
â”œâ”€â”€ ğŸ“˜ types/                                # ì „ì—­ íƒ€ì… ì •ì˜
â”‚   â”œâ”€â”€ global.ts                            # ê³µìœ  íƒ€ì…
â”‚   â””â”€â”€ navigation.ts                        # ë¼ìš°íŠ¸ íŒŒë¼ë¯¸í„° íƒ€ì…
â”‚
â”œâ”€â”€ ğŸ¨ constants/                            # ìƒìˆ˜
â”‚   â”œâ”€â”€ Colors.ts                            # ìƒ‰ìƒ íŒ”ë ˆíŠ¸
â”‚   â””â”€â”€ theme.ts                             # Material Design 3 í…Œë§ˆ
â”‚
â”œâ”€â”€ ğŸ”Œ plugins/                              # Expo Config Plugins
â”‚   â”œâ”€â”€ withOnnxruntime.js                   # ONNX Runtime íŒ¨í‚¤ì§€ ë“±ë¡
â”‚   â””â”€â”€ withOnnxModel.js                     # Android assetsì— ëª¨ë¸ ë³µì‚¬
â”‚
â”œâ”€â”€ ğŸ“¦ assets/                               # ì •ì  ë¦¬ì†ŒìŠ¤
â”‚   â”œâ”€â”€ images/                              # ì•„ì´ì½˜, ìŠ¤í”Œë˜ì‹œ
â”‚   â”œâ”€â”€ model/                               # AI ëª¨ë¸ (gitignored, ~305MB)
â”‚   â”‚   â”œâ”€â”€ wav2vec2_korean_final.onnx
â”‚   â”‚   â””â”€â”€ vocab.json
â”‚   â””â”€â”€ webview/                             # WebView HTML
â”‚       â””â”€â”€ wavesurfer-viewer.html
â”‚
â”œâ”€â”€ ğŸ“¦ utils/                                # ë ˆê±°ì‹œ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ onnx/                                # â†’ features/onnxë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ stt/                                 # â†’ features/sttë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â””â”€â”€ storage/                             # â†’ features/historyë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚
â””â”€â”€ ğŸ“„ ì„¤ì • íŒŒì¼
    â”œâ”€â”€ app.json                             # Expo ì„¤ì •
    â”œâ”€â”€ package.json                         # ì˜ì¡´ì„±
    â”œâ”€â”€ tsconfig.json                        # TypeScript
    â”œâ”€â”€ metro.config.js                      # Metro ë²ˆë“¤ëŸ¬
    â””â”€â”€ eas.json                             # EAS Build
```

---

## ğŸ§© Feature-based ì•„í‚¤í…ì²˜

### ì™œ Feature-basedì¸ê°€?

ê¸°ì¡´ ìœ í‹¸ë¦¬í‹° ê¸°ë°˜(`utils/`) êµ¬ì¡°ì—ì„œ ê¸°ëŠ¥ ê¸°ë°˜(`features/`) êµ¬ì¡°ë¡œ ì „í™˜í–ˆìŠµë‹ˆë‹¤.

| ìœ í‹¸ë¦¬í‹° ê¸°ë°˜ | Feature ê¸°ë°˜ |
|--------------|-------------|
| ê¸°ìˆ ë³„ ë¶„ë¥˜ (hooks/, utils/, components/) | ê¸°ëŠ¥ë³„ ë¶„ë¥˜ (audio/, stt/, onnx/) |
| ê´€ë ¨ ì½”ë“œê°€ ì—¬ëŸ¬ í´ë”ì— ë¶„ì‚° | ê´€ë ¨ ì½”ë“œê°€ í•œ í´ë”ì— ì§‘ì¤‘ |
| ì˜ì¡´ì„± íŒŒì•… ì–´ë ¤ì›€ | ëª…í™•í•œ ê¸°ëŠ¥ ê²½ê³„ |
| í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ì›€ | ë…ë¦½ì  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ |

### ê¸°ëŠ¥ ëª¨ë“ˆ íŒ¨í„´

ê° ê¸°ëŠ¥ ëª¨ë“ˆì€ ë™ì¼í•œ êµ¬ì¡°ë¥¼ ë”°ë¦…ë‹ˆë‹¤:

```
features/{feature}/
â”œâ”€â”€ hooks/              # React í›…
â”œâ”€â”€ components/         # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸ (ì„ íƒ)
â”œâ”€â”€ utils/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ types.ts            # íƒ€ì… ì •ì˜
â””â”€â”€ index.ts            # ê³µê°œ API (ë°°ëŸ´ ìµìŠ¤í¬íŠ¸)
```

### ë°°ëŸ´ ìµìŠ¤í¬íŠ¸

```typescript
// features/stt/index.ts
export { preprocessAudioFile } from './utils/audioPreprocessor';
export { runSTTInference } from './utils/inference';
export { calculateCER, calculateWER } from './utils/metrics';
export type { STTResult } from './types';

// ì‚¬ìš©
import { preprocessAudioFile, runSTTInference } from '@/features/stt';
```

---

## ğŸ”„ í•µì‹¬ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

### ì „ì²´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              STTChecker ì²˜ë¦¬ íë¦„                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ì‚¬ìš©ì ì…ë ¥]
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í™ˆ í™”ë©´    â”‚  ë¬¸ì¥ ì…ë ¥ / ì¶”ì²œ ë¬¸ì¥ ì„ íƒ
â”‚  index.tsx  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ router.push('/record')
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ë…¹ìŒ í™”ë©´ (record.tsx)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              useHybridSpeechRecognition() í›…                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   Android 13+ / iOS:                    Android 12 ì´í•˜:            â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚   â”‚ expo-speech-         â”‚              â”‚ react-native-      â”‚      â”‚   â”‚
â”‚  â”‚   â”‚ recognition          â”‚              â”‚ audio-record       â”‚      â”‚   â”‚
â”‚  â”‚   â”‚                      â”‚              â”‚                    â”‚      â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ ì‹¤ì‹œê°„ STT         â”‚              â”‚ â€¢ WAV ë…¹ìŒë§Œ       â”‚      â”‚   â”‚
â”‚  â”‚   â”‚   (Google/Siri)     â”‚              â”‚ â€¢ ì‹¤ì‹œê°„ STT ì—†ìŒ  â”‚      â”‚   â”‚
â”‚  â”‚   â”‚ â€¢ WAV ë…¹ìŒ           â”‚              â”‚                    â”‚      â”‚   â”‚
â”‚  â”‚   â”‚   (16kHz, PCM16)    â”‚              â”‚                    â”‚      â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ì¶œë ¥: audioUri, realtimeTranscript, duration                              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ router.replace('/results')
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ê²°ê³¼ í™”ë©´ (results.tsx)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1ï¸âƒ£ ì˜¤ë””ì˜¤ ì „ì²˜ë¦¬ (audioPreprocessor.ts)                                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ WAV íŒŒì¼                                                         â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ parseWAVFile()                                                   â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ WAV í—¤ë” íŒŒì‹± (ìƒ˜í”Œë ˆì´íŠ¸, ì±„ë„, ë¹„íŠ¸)                    â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ PCM â†’ Float32 ë³€í™˜ (sample / 32768.0)                    â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ ìŠ¤í…Œë ˆì˜¤ â†’ ëª¨ë…¸ ë³€í™˜ (í‰ê· í™”)                             â”‚    â”‚
â”‚     â”‚    â””â”€â”€ 16kHz ë¦¬ìƒ˜í”Œë§ (ì„ í˜• ë³´ê°„)                                â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ wav2vec2Preprocess()                                             â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ Mean ì œê±° (Zero-centering)                                â”‚    â”‚
â”‚     â”‚    â””â”€â”€ í‘œì¤€í™” (std = 1)                                          â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ Float32Array (ì •ê·œí™”ëœ ì˜¤ë””ì˜¤ ë°ì´í„°)                            â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  2ï¸âƒ£ ONNX ì¶”ë¡  (inference.ts)                                               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ Float32Array                                                     â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ new Tensor('float32', audioData, [1, length])                   â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ session.run({ [inputName]: tensor })                            â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ Logits [1, timeSteps, vocabSize]                                â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ CTC Greedy Decoding                                              â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ ê° íƒ€ì„ìŠ¤í…ì—ì„œ ìµœëŒ€ í™•ë¥  í† í° ì„ íƒ                       â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ PAD í† í° ìŠ¤í‚µ                                             â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ ì—°ì† ì¤‘ë³µ í† í° ì œê±°                                       â”‚    â”‚
â”‚     â”‚    â””â”€â”€ "|" í† í° â†’ ê³µë°± ë³€í™˜                                      â”‚    â”‚
â”‚     â”‚    â†“                                                             â”‚    â”‚
â”‚     â”‚ ì¸ì‹ëœ í…ìŠ¤íŠ¸ (string)                                           â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  3ï¸âƒ£ í‰ê°€ ì§€í‘œ ê³„ì‚° (metrics.ts)                                            â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ calculateCER(ëª©í‘œë¬¸ì¥, ì¸ì‹ë¬¸ì¥)                                  â”‚    â”‚
â”‚     â”‚    â””â”€â”€ Levenshtein(ê³µë°±ì œê±°(ëª©í‘œ), ê³µë°±ì œê±°(ì¸ì‹)) / ëª©í‘œê¸¸ì´    â”‚    â”‚
â”‚     â”‚                                                                  â”‚    â”‚
â”‚     â”‚ calculateWER(ëª©í‘œë¬¸ì¥, ì¸ì‹ë¬¸ì¥)                                  â”‚    â”‚
â”‚     â”‚    â””â”€â”€ Levenshtein(ë‹¨ì–´ë°°ì—´(ëª©í‘œ), ë‹¨ì–´ë°°ì—´(ì¸ì‹)) / ëª©í‘œë‹¨ì–´ìˆ˜  â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  4ï¸âƒ£ ê²°ê³¼ í‘œì‹œ                                                               â”‚
â”‚     â€¢ ë…¹ìŒ íŒŒì¼ ì¬ìƒ (expo-audio)                                          â”‚
â”‚     â€¢ ëª©í‘œ ë¬¸ì¥ vs ì¸ì‹ ë¬¸ì¥ ë¹„êµ                                          â”‚
â”‚     â€¢ CER/WER ì •í™•ë„ ì ìˆ˜                                                  â”‚
â”‚     â€¢ ìŒì„± ë¶„ì„ ê·¸ë˜í”„ (WaveSurfer WebView)                                â”‚
â”‚     â€¢ íƒœê·¸ ê´€ë¦¬                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤ í•˜ì´ë¸Œë¦¬ë“œ ìŒì„± ì¸ì‹

### ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    useHybridSpeechRecognition() í›…                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    í”Œë«í¼ ê¸°ëŠ¥ ê°ì§€                                   â”‚   â”‚
â”‚  â”‚                 useSpeechRecognition() Context                       â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚   canUseHybridMode: boolean                                         â”‚   â”‚
â”‚  â”‚   â”œâ”€â”€ Android 13+ (API 33+): true                                   â”‚   â”‚
â”‚  â”‚   â”œâ”€â”€ iOS: true                                                     â”‚   â”‚
â”‚  â”‚   â””â”€â”€ Android 12-: false                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                                 â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚           â”‚                               â”‚                                â”‚
â”‚           â–¼                               â–¼                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  Hybrid Mode        â”‚       â”‚  Fallback Mode      â”‚                    â”‚
â”‚  â”‚  (Android 13+/iOS)  â”‚       â”‚  (Android 12-)      â”‚                    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚
â”‚  â”‚                     â”‚       â”‚                     â”‚                    â”‚
â”‚  â”‚  expo-speech-       â”‚       â”‚  react-native-      â”‚                    â”‚
â”‚  â”‚  recognition        â”‚       â”‚  audio-record       â”‚                    â”‚
â”‚  â”‚                     â”‚       â”‚                     â”‚                    â”‚
â”‚  â”‚  âœ… ì‹¤ì‹œê°„ STT      â”‚       â”‚  âŒ ì‹¤ì‹œê°„ STT ì—†ìŒ â”‚                    â”‚
â”‚  â”‚  âœ… WAV ë…¹ìŒ        â”‚       â”‚  âœ… WAV ë…¹ìŒ        â”‚                    â”‚
â”‚  â”‚  âœ… 16kHz PCM16     â”‚       â”‚  âœ… 16kHz PCM16     â”‚                    â”‚
â”‚  â”‚                     â”‚       â”‚                     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                             â”‚
â”‚  ë°˜í™˜ê°’:                                                                    â”‚
â”‚  {                                                                          â”‚
â”‚    status: 'idle' | 'starting' | 'recognizing' | 'stopping' | 'completed'  â”‚
â”‚    realtimeTranscript: string     // ì‹¤ì‹œê°„ STT (í•˜ì´ë¸Œë¦¬ë“œë§Œ)             â”‚
â”‚    finalTranscript: string        // ìµœì¢… STT                              â”‚
â”‚    audioUri: string | null        // WAV íŒŒì¼ ê²½ë¡œ                         â”‚
â”‚    duration: number               // ë…¹ìŒ ì‹œê°„ (ì´ˆ)                        â”‚
â”‚    error: string | null                                                     â”‚
â”‚  }                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë…¹ìŒ ì„¤ì •

```typescript
// Hybrid Mode (expo-speech-recognition)
{
  lang: 'ko-KR',
  interimResults: true,          // ì‹¤ì‹œê°„ ì¤‘ê°„ ê²°ê³¼
  continuous: true,              // ì—°ì† ì¸ì‹
  requiresOnDeviceRecognition: true,  // ë¡œì»¬ ì „ìš©
  recordingOptions: {
    persist: true,
    outputSampleRate: 16000,     // ONNX ëª¨ë¸ìš©
    outputEncoding: 'pcmFormatInt16',
  }
}

// Fallback Mode (react-native-audio-record)
{
  sampleRate: 16000,
  channels: 1,
  bitsPerSample: 16,
  audioSource: 6,                // VOICE_RECOGNITION
  wavFile: `recording_${Date.now()}.wav`
}
```

---

## ğŸ¤– ONNX ëª¨ë¸ ê´€ë¦¬

### ëª¨ë¸ ë¡œë”© íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ONNXProvider (ì•± ì‹œì‘ ì‹œ ì‹¤í–‰)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1ï¸âƒ£ Vocab ë¡œë”© (0-30%)                                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ loadVocab()                                                      â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ vocab.json ë¡œë“œ                                           â”‚    â”‚
â”‚     â”‚    â””â”€â”€ ë°˜í™˜: { tokenToId, idToToken, blankToken, padToken }     â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  2ï¸âƒ£ ONNX ëª¨ë¸ ë¡œë”© (30-80%)                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ loadONNXModel(progressCallback)                                  â”‚    â”‚
â”‚     â”‚    â”‚                                                             â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ ìºì‹œ í™•ì¸ (Paths.cache/model/)                           â”‚    â”‚
â”‚     â”‚    â”‚    â”œâ”€â”€ ìˆìŒ â†’ ìºì‹œì—ì„œ ë¡œë“œ                                â”‚    â”‚
â”‚     â”‚    â”‚    â””â”€â”€ ì—†ìŒ â†’ Android assetsì—ì„œ ë³µì‚¬                       â”‚    â”‚
â”‚     â”‚    â”‚                                                             â”‚    â”‚
â”‚     â”‚    â”œâ”€â”€ InferenceSession ìƒì„±                                     â”‚    â”‚
â”‚     â”‚    â”‚    const session = await InferenceSession.create(uri)      â”‚    â”‚
â”‚     â”‚    â”‚                                                             â”‚    â”‚
â”‚     â”‚    â””â”€â”€ ë°˜í™˜: { session, inputName, outputName }                 â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  3ï¸âƒ£ ì´ˆê¸°í™” ì™„ë£Œ (80-100%)                                                  â”‚
â”‚                                                                             â”‚
â”‚  Context ì œê³µ:                                                              â”‚
â”‚  {                                                                          â”‚
â”‚    modelInfo: { session, inputName, outputName }                           â”‚
â”‚    vocabInfo: { tokenToId, idToToken, blankToken, padToken }              â”‚
â”‚    isLoading: boolean                                                       â”‚
â”‚    loadingProgress: number  // 0-100                                       â”‚
â”‚    error: string | null                                                     â”‚
â”‚    reloadModel: () => Promise<void>                                        â”‚
â”‚  }                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Expo Config Plugins

```javascript
// plugins/withOnnxruntime.js
// MainApplication.javaì— ONNX Runtime íŒ¨í‚¤ì§€ ë“±ë¡
packages.add(new OnnxruntimeModulePackage());

// plugins/withOnnxModel.js
// assets/model/ â†’ android/app/src/main/assets/model/ ë³µì‚¬
// build.gradleì— noCompress "onnx" ì¶”ê°€
```

---

## ğŸ”Š ì˜¤ë””ì˜¤ ì „ì²˜ë¦¬

### ìƒì„¸ ë‹¨ê³„

```typescript
// audioPreprocessor.ts

export async function preprocessAudioFile(uri: string): Promise<Float32Array> {
  // 1. WAV íŒŒì¼ ì½ê¸°
  const arrayBuffer = await file.arrayBuffer();

  // 2. WAV í—¤ë” íŒŒì‹±
  const { sampleRate, numChannels, bitsPerSample } = parseWAVHeader(arrayBuffer);

  // 3. PCM ë°ì´í„° ì¶”ì¶œ ë° Float32 ë³€í™˜
  let audioData: Float32Array;
  if (bitsPerSample === 16) {
    audioData = int16ToFloat32(pcmData);  // sample / 32768.0
  } else if (bitsPerSample === 32) {
    audioData = int32ToFloat32(pcmData);  // sample / 2147483648.0
  }

  // 4. ìŠ¤í…Œë ˆì˜¤ â†’ ëª¨ë…¸ ë³€í™˜ (ì±„ë„ í‰ê· í™”)
  if (numChannels > 1) {
    audioData = convertToMono(audioData, numChannels);
  }

  // 5. 16kHz ë¦¬ìƒ˜í”Œë§ (ì„ í˜• ë³´ê°„)
  if (sampleRate !== 16000) {
    audioData = resample(audioData, sampleRate, 16000);
  }

  // 6. Wav2Vec2 ì •ê·œí™”
  return wav2vec2Preprocess(audioData);
}

export function wav2vec2Preprocess(audioData: Float32Array): Float32Array {
  // Mean ì œê±° (Zero-centering)
  const mean = audioData.reduce((a, b) => a + b, 0) / audioData.length;
  const centered = audioData.map(x => x - mean);

  // í‘œì¤€í™” (std = 1)
  const variance = centered.reduce((a, x) => a + x * x, 0) / centered.length;
  const std = Math.sqrt(variance);

  return centered.map(x => x / (std + 1e-7));  // epsilon ì¶”ê°€
}
```

---

## ğŸ“Š í‰ê°€ ì§€í‘œ ê³„ì‚°

### CER (Character Error Rate)

```typescript
export function calculateCER(reference: string, hypothesis: string): number {
  // ê³µë°± ì œê±°í•˜ì—¬ ìˆœìˆ˜ ë¬¸ìë§Œ ë¹„êµ
  const refChars = reference.replace(/\s+/g, '');
  const hypChars = hypothesis.replace(/\s+/g, '');

  // Levenshtein ê±°ë¦¬ ê³„ì‚°
  const distance = levenshtein(refChars, hypChars);

  // CER = í¸ì§‘ ê±°ë¦¬ / ì°¸ì¡° ë¬¸ì ìˆ˜
  const cer = distance / refChars.length;

  return Math.min(cer, 1.0);  // ìµœëŒ€ 100%ë¡œ ì œí•œ
}
```

### WER (Word Error Rate)

```typescript
export function calculateWER(reference: string, hypothesis: string): number {
  // ê³µë°± ê¸°ì¤€ ë‹¨ì–´ ë¶„ë¦¬
  const refWords = reference.trim().split(/\s+/);
  const hypWords = hypothesis.trim().split(/\s+/);

  // ë‹¨ì–´ ë‹¨ìœ„ Levenshtein
  const distance = levenshtein(refWords.join(' '), hypWords.join(' '));

  // WER = í¸ì§‘ ê±°ë¦¬ / ì°¸ì¡° ë‹¨ì–´ ìˆ˜
  const wer = distance / refWords.length;

  return Math.min(wer, 1.0);
}
```

---

## ğŸ’¾ ë°ì´í„° ì €ì¥ì†Œ

### ì €ì¥ì†Œ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ì €ì¥ì†Œ ì•„í‚¤í…ì²˜                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  AsyncStorage (ë©”íƒ€ë°ì´í„°)                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Key: "@pronunciation_history"                                        â”‚   â”‚
â”‚  â”‚ Value: HistoryItem[] (JSON)                                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚ interface HistoryItem {                                              â”‚   â”‚
â”‚  â”‚   id: string                    // íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë°˜ ê³ ìœ  ID           â”‚   â”‚
â”‚  â”‚   targetText: string            // ëª©í‘œ ë¬¸ì¥                         â”‚   â”‚
â”‚  â”‚   recognizedText: string        // ì¸ì‹ ê²°ê³¼                         â”‚   â”‚
â”‚  â”‚   audioFilePath: string         // ì˜¤ë””ì˜¤ íŒŒì¼ ê²½ë¡œ                  â”‚   â”‚
â”‚  â”‚   cerScore: number              // 0-1                               â”‚   â”‚
â”‚  â”‚   werScore: number              // 0-1                               â”‚   â”‚
â”‚  â”‚   tags: string[]                // íƒœê·¸ ëª©ë¡                         â”‚   â”‚
â”‚  â”‚   recordingDuration: number     // ë…¹ìŒ ì‹œê°„ (ì´ˆ)                    â”‚   â”‚
â”‚  â”‚   processingTime: number        // ì²˜ë¦¬ ì‹œê°„ (ms)                    â”‚   â”‚
â”‚  â”‚   createdAt: string             // ISO íƒ€ì„ìŠ¤íƒ¬í”„                    â”‚   â”‚
â”‚  â”‚ }                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  expo-file-system (ì˜¤ë””ì˜¤ íŒŒì¼)                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì„ì‹œ íŒŒì¼ (ë…¹ìŒ ì§í›„)                                                â”‚   â”‚
â”‚  â”‚   Paths.cache/recording_${timestamp}.wav                            â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚ ì˜êµ¬ íŒŒì¼ (ì €ì¥ í›„)                                                  â”‚   â”‚
â”‚  â”‚   Paths.document/audio/recording_${id}.wav                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ì œí•œì‚¬í•­:                                                                  â”‚
â”‚  â€¢ ìµœëŒ€ 100ê°œ íˆìŠ¤í† ë¦¬ í•­ëª© (ì´ˆê³¼ ì‹œ ì˜¤ë˜ëœ í•­ëª© ìë™ ì‚­ì œ)                 â”‚
â”‚  â€¢ ë¡œë“œ ì‹œ íŒŒì¼ ì¡´ì¬ ì—¬ë¶€ ê²€ì¦ (ê³ ì•„ ë ˆì½”ë“œ ìë™ ì œê±°)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ ì˜ì¡´ì„± ê·¸ë˜í”„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ì˜ì¡´ì„± ë ˆì´ì–´                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                           ì•± ë ˆì´ì–´                                   â”‚   â”‚
â”‚  â”‚              app/record.tsx, app/results.tsx, app/(tabs)/*           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                            â”‚
â”‚                                â–¼ ì„í¬íŠ¸                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          ê¸°ëŠ¥ ë ˆì´ì–´                                  â”‚   â”‚
â”‚  â”‚    features/audio, features/stt, features/onnx, features/history     â”‚   â”‚
â”‚  â”‚              features/speechRecognition, features/karaoke            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                            â”‚
â”‚                                â–¼ ì„í¬íŠ¸                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        ê³µìœ  ë ˆì´ì–´                                    â”‚   â”‚
â”‚  â”‚               components/, constants/, types/                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                â”‚                                            â”‚
â”‚                                â–¼ ì„í¬íŠ¸                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         ì™¸ë¶€ ë ˆì´ì–´                                   â”‚   â”‚
â”‚  â”‚   onnxruntime-react-native, expo-speech-recognition,                 â”‚   â”‚
â”‚  â”‚   react-native-audio-record, expo-audio, expo-file-system            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  âœ… í—ˆìš©: ìƒìœ„ â†’ í•˜ìœ„                                                       â”‚
â”‚  âŒ ê¸ˆì§€: í•˜ìœ„ â†’ ìƒìœ„ (ìˆœí™˜ ì°¸ì¡°)                                           â”‚
â”‚  âŒ ê¸ˆì§€: ì»´í¬ë„ŒíŠ¸ â†’ ê¸°ëŠ¥ (ì¬ì‚¬ìš©ì„± ì €í•´)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ ì„¤ê³„ ê²°ì •ì‚¬í•­

### 1. í•˜ì´ë¸Œë¦¬ë“œ ìŒì„± ì¸ì‹

**ê²°ì •**: Android ë²„ì „ì— ë”°ë¼ ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

**ì´ìœ **:
- `expo-speech-recognition`ì€ Android 13+ ì—ì„œë§Œ WAV ë…¹ìŒ ì§€ì›
- Android 12 ì´í•˜ì—ì„œë„ ONNX ëª¨ë¸ ì‚¬ìš©ì„ ìœ„í•´ WAV ë…¹ìŒ í•„ìš”
- `react-native-audio-record`ë¡œ í´ë°±í•˜ì—¬ ëª¨ë“  Android ë²„ì „ ì§€ì›

### 2. ONNX ì˜¨ë””ë°”ì´ìŠ¤ ì²˜ë¦¬

**ê²°ì •**: ì„œë²„ API ëŒ€ì‹  ONNX ëª¨ë¸ì„ ë””ë°”ì´ìŠ¤ì—ì„œ ì§ì ‘ ì‹¤í–‰

**ì´ìœ **:
- ê°œì¸ì •ë³´ ë³´í˜¸ (ìŒì„± ë°ì´í„° ì„œë²„ ì „ì†¡ ì—†ìŒ)
- ì˜¤í”„ë¼ì¸ ì‚¬ìš© ê°€ëŠ¥
- ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì—†ìŒ
- API ë¹„ìš© ì—†ìŒ

### 3. Feature-based ì•„í‚¤í…ì²˜

**ê²°ì •**: ê¸°ìˆ ë³„ ë¶„ë¥˜ì—ì„œ ê¸°ëŠ¥ë³„ ë¶„ë¥˜ë¡œ ì „í™˜

**ì´ìœ **:
- ê´€ë ¨ ì½”ë“œ ì‘ì§‘ë„ í–¥ìƒ
- ë…ë¦½ì  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- íŒ€ í˜‘ì—… ìš©ì´
- ê¸°ëŠ¥ ì¶”ì¶œ/ì¬ì‚¬ìš© ê°„í¸

### 4. expo-file-system v19 API

**ê²°ì •**: ìƒˆë¡œìš´ File/Directory í´ë˜ìŠ¤ API ì‚¬ìš©

**ì´ìœ **:
- ë™ê¸°ì  ì†ì„± ì ‘ê·¼ (`file.exists`, `file.size`)
- íƒ€ì… ì•ˆì „ì„± í–¥ìƒ
- ë¬¸ìì—´ ê²½ë¡œ ëŒ€ì‹  ê°ì²´ ê¸°ë°˜ ê´€ë¦¬
- ìµœì‹  Expo SDK ê¶Œì¥ ë°©ì‹

### 5. WaveSurfer.js WebView

**ê²°ì •**: ë„¤ì´í‹°ë¸Œ ê·¸ë˜í”„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëŒ€ì‹  WebView ê¸°ë°˜ êµ¬í˜„

**ì´ìœ **:
- WaveSurfer.jsì˜ í’ë¶€í•œ ì˜¤ë””ì˜¤ ì‹œê°í™” ê¸°ëŠ¥
- ìŠ¤í™íŠ¸ë¡œê·¸ë¨, í”¼ì¹˜ ë¶„ì„ ë“± ë³µì¡í•œ ì‹œê°í™” ì§€ì›
- ì›¹ ê¸°ìˆ ì˜ ì„±ìˆ™í•œ ìƒíƒœê³„ í™œìš©
- ì˜¤í”„ë¼ì¸ ë™ì‘ (HTML ë²ˆë“¤ í¬í•¨)

---

## ğŸ“š ì°¸ê³  ìë£Œ

- [Expo Router](https://docs.expo.dev/router/introduction/)
- [expo-file-system v19](https://docs.expo.dev/versions/latest/sdk/filesystem/)
- [ONNX Runtime](https://onnxruntime.ai/docs/)
- [Feature-Sliced Design](https://feature-sliced.design/)
- [CTC Decoding](https://distill.pub/2017/ctc/)
- [Wav2Vec 2.0](https://arxiv.org/abs/2006.11477)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-10
**ë²„ì „**: 1.3.0
